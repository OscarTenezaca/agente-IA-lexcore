<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LEXI - Asistente Legal</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f7fb;
    }

    .chat-container {
      max-width: 700px;
      margin: 0 auto;
      padding: 20px;
      background-color: #f4f7fb;
    }

    .mensaje {
      padding: 10px 15px;
      margin: 10px 0;
      border-radius: 12px;
      max-width: 85%;
      word-wrap: break-word;
    }

    .usuario {
      background-color: #448aff;
      color: white;
      align-self: flex-end;
      margin-left: auto;
    }

    .ia {
      background-color: #eeeeee;
      color: #000;
      align-self: flex-start;
      margin-right: auto;
    }

    .mensajes {
      display: flex;
      flex-direction: column;
      height: auto;
      overflow-y: hidden;
    }

    .input-container {
      display: flex;
      margin-top: 15px;
    }

    input[type="text"] {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px 0 0 8px;
      font-size: 16px;
    }

    button {
      padding: 10px 20px;
      border: none;
      background-color: #1565c0;
      color: white;
      border-radius: 0 8px 8px 0;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #0d47a1;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div id="mensajes" class="mensajes"></div>
    <div class="input-container">
      <input type="text" id="entrada" placeholder="Escribe tu consulta legal aquÃ­..." onkeypress="if(event.key==='Enter') enviarMensaje()" />
      <button onclick="enviarMensaje()">Enviar</button>
    </div>
  </div>

  <script>
    function agregarMensaje(texto, clase) {
      const div = document.createElement("div");
      div.classList.add("mensaje", clase);
      div.textContent = texto;
      document.getElementById("mensajes").appendChild(div);
      div.scrollIntoView({ behavior: "smooth" });
    }

    function enviarMensaje() {
      const entrada = document.getElementById("entrada");
      const mensaje = entrada.value.trim();
      if (mensaje) {
        responder(mensaje);
        entrada.value = "";
      }
    }

    function responder(mensaje) {
      const msg = mensaje.toLowerCase();
      let respuesta = null;

      // Coincidencias generales
      if (msg.includes("hola") || msg.includes("buenos dÃ­as") || msg.includes("buenas tardes")) {
        respuesta = "Â¡Hola! Â¿CÃ³mo estÃ¡s? Estoy aquÃ­ para ayudarte con tus preguntas legales. ðŸ˜Š";
      } else if (msg.includes("gracias") || msg.includes("muchas gracias")) {
        respuesta = "Â¡Con gusto! Si necesitas algo mÃ¡s, aquÃ­ estarÃ©. ðŸ™Œ";
      } else if (msg.includes("adiÃ³s") || msg.includes("hasta luego") || msg.includes("chau")) {
        respuesta = "Â¡Hasta pronto! Espero haberte ayudado.";
      }

      // Temas legales
      else if (msg.includes("divorcio")) {
        respuesta = "El divorcio puede ser por mutuo acuerdo o por causal. Â¿Te interesa saber los pasos, requisitos o tiempos?";
      } else if (msg.includes("contrato")) {
        respuesta = "Â¿Te refieres a un contrato civil, laboral o de arrendamiento? Estoy aquÃ­ para explicarlo.";
      } else if (msg.includes("despido") || msg.includes("liquidaciÃ³n")) {
        respuesta = "El despido intempestivo da derecho a una liquidaciÃ³n. Â¿Quieres saber cÃ³mo calcularla?";
      } else if (msg.includes("herencia") || msg.includes("testamento")) {
        respuesta = "Las herencias se rigen por la ley civil. Â¿Tu duda es sobre la sucesiÃ³n, reparto o derechos de herederos?";
      } else if (msg.includes("pensiÃ³n") || msg.includes("alimenticia")) {
        respuesta = "Â¿Quieres saber cuÃ¡nto te corresponde pagar o recibir por pensiÃ³n alimenticia segÃºn el SBU?";
      } else if (msg.includes("inquilino") || msg.includes("arriendo") || msg.includes("alquiler")) {
        respuesta = "La Ley de Inquilinato establece obligaciones para inquilinos y arrendadores. Â¿CuÃ¡l es tu caso?";
      } else if (msg.includes("datos personales") || msg.includes("lopdp")) {
        respuesta = "La Ley OrgÃ¡nica de ProtecciÃ³n de Datos Personales garantiza tu derecho a decidir sobre tu informaciÃ³n. Â¿CuÃ¡l es tu inquietud?";
      } else if (msg.includes("sri") || msg.includes("factura") || msg.includes("ruc")) {
        respuesta = "Â¿Necesitas informaciÃ³n sobre facturaciÃ³n electrÃ³nica, inscripciÃ³n en el RUC o declaraciones?";
      } else if (msg.includes("dominio") || msg.includes("propiedad") || msg.includes("vivienda")) {
        respuesta = "Â¿Se trata de inscripciÃ³n de dominio, promesa de compraventa o algÃºn conflicto con tu propiedad?";
      } else if (msg.includes("notarÃ­a") || msg.includes("escritura") || msg.includes("poder")) {
        respuesta = "Â¿Vas a realizar una escritura de compraventa, un poder o algÃºn otro trÃ¡mite notarial?";
      } else if (msg.includes("empresa") || msg.includes("sociedad") || msg.includes("comercial")) {
        respuesta = "Puedes crear una empresa en Ecuador como persona natural o jurÃ­dica. Â¿Quieres conocer el proceso?";
      } else if (msg.includes("constituciÃ³n") || msg.includes("derechos")) {
        respuesta = "La ConstituciÃ³n reconoce derechos como salud, educaciÃ³n, ambiente sano y mÃ¡s. Â¿QuÃ© artÃ­culo deseas consultar?";
      }

      // Ayuda emocional
      else if (msg.includes("ayuda") || msg.includes("problema") || msg.includes("necesito")) {
        respuesta = "Tranquil@, estoy aquÃ­ para ayudarte. CuÃ©ntame mÃ¡s detalles para darte la mejor orientaciÃ³n legal posible.";
      }

      // Sin coincidencia
      if (!respuesta) {
        respuesta = "Lo siento, no encontrÃ© una respuesta especÃ­fica. Â¿PodrÃ­as darme mÃ¡s detalles o reformular tu consulta?";
      }

      agregarMensaje(mensaje, "usuario");
      setTimeout(() => {
        agregarMensaje(respuesta, "ia");
      }, 400);
    }

    // Mensaje inicial
    window.onload = () => {
      agregarMensaje("Â¡Hola! Soy tu asistente legal. Â¿En quÃ© puedo ayudarte hoy?", "ia");
    };
  </script>
</body>
</html>
